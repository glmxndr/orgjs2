/*! orgjs 25-04-2013 */
(function(n,r,t){function e(t,i){if(!r[t]){if(!n[t]){var a="function"==typeof require&&require;if(!i&&a)return a(t,!0);if(u)return u(t,!0);throw Error("Cannot find module '"+t+"'")}var o=r[t]={exports:{}};n[t][0].call(o.exports,function(r){var u=n[t][1][r];return e(u?u:r)},o,o.exports)}return r[t].exports}for(var u="function"==typeof require&&require,i=0;t.length>i;i++)e(t[i]);return e})({1:[function(n){(function(){var r=n("./utils");n("./block/document"),console.log(r)})()},{"./utils":2,"./block/document":3}],3:[function(n,r,t){n("../shim");var e=n("../tree"),u=function(n){e.apply(this,[null,n]),this.properties={},this.footnotes={}};r.exports=t=u},{"../shim":4,"../tree":5}],4:[function(){"function"!=typeof Object.create&&(Object.create=function(n){function r(){}return r.prototype=n,new r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(n){"use strict";if(void 0===this||null===this)throw new TypeError;var r=Object(this),t=r.length>>>0;if(0===t)return-1;var e=0;if(arguments.length>0&&(e=Number(arguments[1]),e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e)))),e>=t)return-1;for(var u=e>=0?e:Math.max(t-Math.abs(e),0);t>u;u++)if(u in r&&r[u]===n)return u;return-1})},{}],2:[function(n,r,t){n("./shim");var e=n("lodash"),u={extendProto:function(n,r,t){e.assign(n.prototype,r.prototype,t)},incrementor:function(){var n=0;return function(){return++n}},repeat:function(n,r){for(var t=[],e=0;r>e;e++)t.push(n);return t.join("")},each:function(n,r){var t,e=n.length,u=0,i=void 0===e;if(i){for(t in n)if(r.call(n[t],n[t],t)===!1)break}else{if(!e)return;for(var a=n[0];e>u&&r.call(a,a,u)!==!1;a=n[++u]);}},map:function(n,r){var t=[];return this.each(n,function(n,e){var u=r.call(n,n,e);null!==u&&t.push(u)}),t},filter:function(n,r){var t=[];return this.each(n,function(n,e){var u=r.call(n,n,e);u&&t.push(n)}),t}};u.id=u.incrementor(),r.exports=t=u},{"./shim":4,lodash:6}],6:[function(n,r,t){(function(n){(function(e){function u(n){function r(n){return n&&"object"==typeof n&&!Z(n)&&Yt.call(n,"__wrapped__")?n:new P(n)}function t(n){var r=n.length,t=r>=s;if(t)for(var e={},u=-1;r>++u;){var i=p+n[u];(e[i]||(e[i]=[])).push(n[u])}return function(r){if(t){var u=p+r;return e[u]&&Vr(e[u],r)>-1}return Vr(n,r)>-1}}function a(n){return n.charCodeAt(0)}function f(n,r){var t=n.index,e=r.index;if(n=n.criteria,r=r.criteria,n!==r){if(n>r||n===i)return 1;if(r>n||r===i)return-1}return e>t?-1:1}function I(n,r,t,e){function u(){var e=arguments,l=a?this:r;if(i||(n=r[o]),t.length&&(e=e.length?(e=se.call(e),f?e.concat(t):t.concat(e)):t),this instanceof u){U.prototype=n.prototype,l=new U,U.prototype=null;var c=n.apply(l,e);return or(c)?c:l}return n.apply(l,e)}var i=ar(n),a=!t,o=r;if(a){var f=e;t=r}else if(!i){if(!e)throw new Ut;r=n}return u}function M(n){return"\\"+F[n]}function z(n){return de[n]}function P(n){this.__wrapped__=n}function U(){}function K(n){var r=!1;if(!n||te.call(n)!=q)return r;var t=n.constructor;return(ar(t)?t instanceof t:ye.nodeClass||!isNode(n))?(je(n,function(n,t){r=t}),r===!1||Yt.call(n,r)):r}function L(n,r,t){r||(r=0),t===i&&(t=n?n.length:0);for(var e=-1,u=t-r||0,a=Tt(0>u?0:u);u>++e;)a[e]=n[r+e];return a}function V(n){return _e[n]}function G(n){return te.call(n)==O}function H(n,t,e,u,a,o){var f=n;if("function"==typeof t&&(u=e,e=t,t=!1),"function"==typeof e){if(e=u===i?e:r.createCallback(e,u,1),f=e(f),f!==i)return f;f=n}var l=or(f);if(l){var c=te.call(f);if(!B[c])return f;var p=Z(f)}if(!l||!t)return l?p?L(f):ke({},f):f;var s=ge[c];switch(c){case E:case N:return new s(+f);case S:case $:return new s(f);case T:return s(f.source,b.exec(f))}a||(a=[]),o||(o=[]);for(var h=a.length;h--;)if(a[h]==n)return o[h];return f=p?s(f.length):{},p&&(Yt.call(n,"index")&&(f.index=n.index),Yt.call(n,"input")&&(f.input=n.input)),a.push(n),o.push(f),(p?xr:Ce)(n,function(n,r){f[r]=H(n,t,e,i,a,o)}),f}function J(n,r,t){return H(n,!0,r,t)}function Q(n,t,e){var u;return t=r.createCallback(t,e),Ce(n,function(n,r,e){return t(n,r,e)?(u=r,!1):i}),u}function W(n){var r=[];return je(n,function(n,t){ar(n)&&r.push(t)}),r.sort()}function X(n,r){return n?Yt.call(n,r):!1}function Y(n){for(var r=-1,t=be(n),e=t.length,u={};e>++r;){var i=t[r];u[n[i]]=i}return u}function Z(n){return n instanceof Tt||ue(n)}function nr(n){return n===!0||n===!1||te.call(n)==E}function rr(n){return n instanceof Bt||te.call(n)==N}function tr(n){return n?1===n.nodeType:!1}function er(n){var r=!0;if(!n)return r;var t=te.call(n),e=n.length;return t==A||t==$||t==O||t==q&&"number"==typeof e&&ar(n.splice)?!e:(Ce(n,function(){return r=!1}),r)}function ur(n,t,e,u,a,o){var f=e===c;if("function"==typeof e&&!f){e=r.createCallback(e,u,2);var l=e(n,t);if(l!==i)return!!l}if(n===t)return 0!==n||1/n==1/t;var p=typeof n,s=typeof t;if(n===n&&(!n||"function"!=p&&"object"!=p)&&(!t||"function"!=s&&"object"!=s))return!1;if(null==n||null==t)return n===t;var h=te.call(n),v=te.call(t);if(h==O&&(h=q),v==O&&(v=q),h!=v)return!1;switch(h){case E:case N:return+n==+t;case S:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case T:case $:return n==Pt(t)}var g=h==A;if(!g){if(Yt.call(n,"__wrapped__ ")||Yt.call(t,"__wrapped__"))return ur(n.__wrapped__||n,t.__wrapped__||t,e,u,a,o);if(h!=q)return!1;var y=n.constructor,m=t.constructor;if(y!=m&&!(ar(y)&&y instanceof y&&ar(m)&&m instanceof m))return!1}a||(a=[]),o||(o=[]);for(var b=a.length;b--;)if(a[b]==n)return o[b]==t;var d=0;if(l=!0,a.push(n),o.push(t),g){if(b=n.length,d=t.length,l=d==n.length,!l&&!f)return l;for(;d--;){var _=b,k=t[d];if(f)for(;_--&&!(l=ur(n[_],k,e,u,a,o)););else if(!(l=ur(n[d],k,e,u,a,o)))break}return l}return je(t,function(r,t,f){return Yt.call(f,t)?(d++,l=Yt.call(n,t)&&ur(n[t],r,e,u,a,o)):i}),l&&!f&&je(n,function(n,r,t){return Yt.call(t,r)?l=--d>-1:i}),l}function ir(n){return ie(n)&&!ae(parseFloat(n))}function ar(n){return"function"==typeof n}function or(n){return n?R[typeof n]:!1}function fr(n){return cr(n)&&n!=+n}function lr(n){return null===n}function cr(n){return"number"==typeof n||te.call(n)==S}function pr(n){return n instanceof zt||te.call(n)==T}function sr(n){return"string"==typeof n||te.call(n)==$}function hr(n){return n===i}function vr(n,t,e){var u=arguments,a=0,o=2;if(!or(n))return n;if(e===c)var f=u[3],l=u[4],p=u[5];else l=[],p=[],"number"!=typeof e&&(o=u.length),o>3&&"function"==typeof u[o-2]?f=r.createCallback(u[--o-1],u[o--],2):o>2&&"function"==typeof u[o-1]&&(f=u[--o]);for(;o>++a;)(Z(u[a])?xr:Ce)(u[a],function(r,t){var e,u,a=r,o=n[t];if(r&&((u=Z(r))||xe(r))){for(var s=l.length;s--;)if(e=l[s]==r){o=p[s];break}if(!e){var h;f&&(a=f(o,r),(h=a!==i)&&(o=a)),h||(o=u?Z(o)?o:[]:xe(o)?o:{}),l.push(r),p.push(o),h||(o=vr(o,r,c,f,l,p))}}else f&&(a=f(o,r),a===i&&(a=r)),a!==i&&(o=a);n[t]=o});return n}function gr(n,t,e){var u="function"==typeof t,i={};if(u)t=r.createCallback(t,e);else var a=Qt.apply(Kt,se.call(arguments,1));return je(n,function(n,r,e){(u?!t(n,r,e):0>Vr(a,r))&&(i[r]=n)}),i}function yr(n){for(var r=-1,t=be(n),e=t.length,u=Tt(e);e>++r;){var i=t[r];u[r]=[i,n[i]]}return u}function mr(n,t,e){var u={};if("function"!=typeof t)for(var i=-1,a=Qt.apply(Kt,se.call(arguments,1)),o=or(n)?a.length:0;o>++i;){var f=a[i];f in n&&(u[f]=n[f])}else t=r.createCallback(t,e),je(n,function(n,r,e){t(n,r,e)&&(u[r]=n)});return u}function br(n){for(var r=-1,t=be(n),e=t.length,u=Tt(e);e>++r;)u[r]=n[t[r]];return u}function dr(n){for(var r=-1,t=Qt.apply(Kt,se.call(arguments,1)),e=t.length,u=Tt(e);e>++r;)u[r]=n[t[r]];return u}function _r(n,r,t){var e=-1,u=n?n.length:0,a=!1;return t=(0>t?fe(0,u+t):t)||0,"number"==typeof u?a=(sr(n)?n.indexOf(r,t):Vr(n,r,t))>-1:Ce(n,function(n){return++e>=t?!(a=n===r):i}),a}function kr(n,t,e){var u={};return t=r.createCallback(t,e),xr(n,function(n,r,e){r=Pt(t(n,r,e)),Yt.call(u,r)?u[r]++:u[r]=1}),u}function wr(n,t,e){var u=!0;t=r.createCallback(t,e);var i=-1,a=n?n.length:0;if("number"==typeof a)for(;a>++i&&(u=!!t(n[i],i,n)););else Ce(n,function(n,r,e){return u=!!t(n,r,e)});return u}function jr(n,t,e){var u=[];t=r.createCallback(t,e);var i=-1,a=n?n.length:0;if("number"==typeof a)for(;a>++i;){var o=n[i];t(o,i,n)&&u.push(o)}else Ce(n,function(n,r,e){t(n,r,e)&&u.push(n)});return u}function Cr(n,t,e){t=r.createCallback(t,e);var u=-1,a=n?n.length:0;if("number"!=typeof a){var o;return Ce(n,function(n,r,e){return t(n,r,e)?(o=n,!1):i}),o}for(;a>++u;){var f=n[u];if(t(f,u,n))return f}}function xr(n,t,e){var u=-1,a=n?n.length:0;if(t=t&&e===i?t:r.createCallback(t,e),"number"==typeof a)for(;a>++u&&t(n[u],u,n)!==!1;);else Ce(n,t);return n}function Or(n,t,e){var u={};return t=r.createCallback(t,e),xr(n,function(n,r,e){r=Pt(t(n,r,e)),(Yt.call(u,r)?u[r]:u[r]=[]).push(n)}),u}function Ar(n,r){var t=se.call(arguments,2),e=-1,u="function"==typeof r,i=n?n.length:0,a=Tt("number"==typeof i?i:0);return xr(n,function(n){a[++e]=(u?r:n[r]).apply(n,t)}),a}function Er(n,t,e){var u=-1,i=n?n.length:0;if(t=r.createCallback(t,e),"number"==typeof i)for(var a=Tt(i);i>++u;)a[u]=t(n[u],u,n);else a=[],Ce(n,function(n,r,e){a[++u]=t(n,r,e)});return a}function Nr(n,t,e){var u=-1/0,i=u;if(!t&&Z(n))for(var o=-1,f=n.length;f>++o;){var l=n[o];l>i&&(i=l)}else t=!t&&sr(n)?a:r.createCallback(t,e),xr(n,function(n,r,e){var a=t(n,r,e);a>u&&(u=a,i=n)});return i}function Ir(n,t,e){var u=1/0,i=u;if(!t&&Z(n))for(var o=-1,f=n.length;f>++o;){var l=n[o];i>l&&(i=l)}else t=!t&&sr(n)?a:r.createCallback(t,e),xr(n,function(n,r,e){var a=t(n,r,e);u>a&&(u=a,i=n)});return i}function Sr(n,r){var t=-1,e=n?n.length:0;if("number"==typeof e)for(var u=Tt(e);e>++t;)u[t]=n[t][r];return u||Er(n,r)}function qr(n,t,e,u){if(!n)return e;var i=3>arguments.length;t=r.createCallback(t,u,4);var a=-1,o=n.length;if("number"==typeof o)for(i&&(e=n[++a]);o>++a;)e=t(e,n[a],a,n);else Ce(n,function(n,r,u){e=i?(i=!1,n):t(e,n,r,u)});return e}function Tr(n,t,e,u){var i=n,a=n?n.length:0,o=3>arguments.length;if("number"!=typeof a){var f=be(n);a=f.length}return t=r.createCallback(t,u,4),xr(n,function(n,r,u){r=f?f[--a]:--a,e=o?(o=!1,i[r]):t(e,i[r],r,u)}),e}function $r(n,t,e){return t=r.createCallback(t,e),jr(n,function(n,r,e){return!t(n,r,e)})}function Br(n){var r=-1,t=n?n.length:0,e=Tt("number"==typeof t?t:0);return xr(n,function(n){var t=Wt(pe()*(++r+1));e[r]=e[t],e[t]=n}),e}function Rr(n){var r=n?n.length:0;return"number"==typeof r?r:be(n).length}function Fr(n,t,e){var u;t=r.createCallback(t,e);var i=-1,a=n?n.length:0;if("number"==typeof a)for(;a>++i&&!(u=t(n[i],i,n)););else Ce(n,function(n,r,e){return!(u=t(n,r,e))});return!!u}function Dr(n,t,e){var u=-1,i=n?n.length:0,a=Tt("number"==typeof i?i:0);for(t=r.createCallback(t,e),xr(n,function(n,r,e){a[++u]={criteria:t(n,r,e),index:u,value:n}}),i=a.length,a.sort(f);i--;)a[i]=a[i].value;return a}function Mr(n){return n&&"number"==typeof n.length?L(n):br(n)}function zr(n){for(var r=-1,t=n?n.length:0,e=[];t>++r;){var u=n[r];u&&e.push(u)}return e}function Pr(n){for(var r=-1,e=n?n.length:0,u=Qt.apply(Kt,se.call(arguments,1)),i=t(u),a=[];e>++r;){var o=n[r];i(o)||a.push(o)}return a}function Ur(n,t,e){var u=-1,i=n?n.length:0;for(t=r.createCallback(t,e);i>++u;)if(t(n[u],u,n))return u;return-1}function Kr(n,t,e){if(n){var u=0,i=n.length;if("number"!=typeof t&&null!=t){var a=-1;for(t=r.createCallback(t,e);i>++a&&t(n[a],a,n);)u++}else if(u=t,null==u||e)return n[0];return L(n,0,le(fe(0,u),i))}}function Lr(n,t,e,u){var i=-1,a=n?n.length:0,o=[];for("boolean"!=typeof t&&null!=t&&(u=e,e=t,t=!1),null!=e&&(e=r.createCallback(e,u));a>++i;){var f=n[i];e&&(f=e(f,i,n)),Z(f)?Zt.apply(o,t?f:Lr(f)):o.push(f)}return o}function Vr(n,r,t){var e=-1,u=n?n.length:0;if("number"==typeof t)e=(0>t?fe(0,u+t):t||0)-1;else if(t)return e=Yr(n,r),n[e]===r?e:-1;for(;u>++e;)if(n[e]===r)return e;return-1}function Gr(n,t,e){if(!n)return[];var u=0,i=n.length;if("number"!=typeof t&&null!=t){var a=i;for(t=r.createCallback(t,e);a--&&t(n[a],a,n);)u++}else u=null==t||e?1:t||u;return L(n,0,le(fe(0,i-u),i))}function Hr(n){var r=arguments,e=r.length,u={0:{}},i=-1,a=n?n.length:0,o=a>=s,f=[],l=f;n:for(;a>++i;){var c=n[i];if(o)var h=p+c,v=u[0][h]?!(l=u[0][h]):l=u[0][h]=[];if(v||0>Vr(l,c)){o&&l.push(c);for(var g=e;--g;)if(!(u[g]||(u[g]=t(r[g])))(c))continue n;f.push(c)}}return f}function Jr(n,t,e){if(n){var u=0,i=n.length;if("number"!=typeof t&&null!=t){var a=i;for(t=r.createCallback(t,e);a--&&t(n[a],a,n);)u++}else if(u=t,null==u||e)return n[i-1];return L(n,fe(0,i-u))}}function Qr(n,r,t){var e=n?n.length:0;for("number"==typeof t&&(e=(0>t?fe(0,e+t):le(t,e-1))+1);e--;)if(n[e]===r)return e;return-1}function Wr(n,r,t){n=+n||0,t=+t||1,null==r&&(r=n,n=0);for(var e=-1,u=fe(0,Ht((r-n)/t)),i=Tt(u);u>++e;)i[e]=n,n+=t;return i}function Xr(n,t,e){if("number"!=typeof t&&null!=t){var u=0,i=-1,a=n?n.length:0;for(t=r.createCallback(t,e);a>++i&&t(n[i],i,n);)u++}else u=null==t||e?1:fe(0,t);return L(n,u)}function Yr(n,t,e,u){var i=0,a=n?n.length:i;for(e=e?r.createCallback(e,u,1):kt,t=e(t);a>i;){var o=i+a>>>1;t>e(n[o])?i=o+1:a=o}return i}function Zr(n){return Z(n)||(arguments[0]=n?se.call(n):Kt),nt(Qt.apply(Kt,arguments))}function nt(n,t,e,u){var i=-1,a=n?n.length:0,o=[],f=o;"boolean"!=typeof t&&null!=t&&(u=e,e=t,t=!1);var l=!t&&a>=s;if(l)var c={};for(null!=e&&(f=[],e=r.createCallback(e,u));a>++i;){var h=n[i],v=e?e(h,i,n):h;if(l)var g=p+v,y=c[g]?!(f=c[g]):f=c[g]=[];(t?!i||f[f.length-1]!==v:y||0>Vr(f,v))&&((e||l)&&f.push(v),o.push(h))}return o}function rt(n){for(var r=-1,t=n?n.length:0,e=t?Nr(Sr(n,"length")):0,u=Tt(e);t>++r;)for(var i=-1,a=n[r];e>++i;)(u[i]||(u[i]=Tt(t)))[r]=a[i];return u}function tt(n){return Pr(n,se.call(arguments,1))}function et(n){for(var r=-1,t=n?Nr(Sr(arguments,"length")):0,e=Tt(t);t>++r;)e[r]=Sr(arguments,r);return e}function ut(n,r){for(var t=-1,e=n?n.length:0,u={};e>++t;){var i=n[t];r?u[i]=r[t]:u[i[0]]=i[1]}return u}function it(n,r){return 1>n?r():function(){return 1>--n?r.apply(this,arguments):i}}function at(n,r){return ye.fastBind||ee&&arguments.length>2?ee.call.apply(ee,arguments):I(n,r,se.call(arguments,2))}function ot(n){for(var r=arguments.length>1?Qt.apply(Kt,se.call(arguments,1)):W(n),t=-1,e=r.length;e>++t;){var u=r[t];n[u]=at(n[u],n)}return n}function ft(n,r){return I(n,r,se.call(arguments,2),c)}function lt(){var n=arguments;return function(){for(var r=arguments,t=n.length;t--;)r=[n[t].apply(this,r)];return r[0]}}function ct(n,r,t){if(null==n)return kt;var e=typeof n;if("function"!=e){if("object"!=e)return function(r){return r[n]};var u=be(n);return function(r){for(var t=u.length,e=!1;t--&&(e=ur(r[u[t]],n[u[t]],c)););return e}}return r!==i?1===t?function(t){return n.call(r,t)}:2===t?function(t,e){return n.call(r,t,e)}:4===t?function(t,e,u,i){return n.call(r,t,e,u,i)}:function(t,e,u){return n.call(r,t,e,u)}:n}function pt(n,r,t){function e(){o=null,f&&(i=n.apply(a,u))}var u,i,a,o,f=!0;if(t===!0){var l=!0;f=!1}else t&&R[typeof t]&&(l=t.leading,f="trailing"in t?t.trailing:f);return function(){var t=l&&!o;return u=arguments,a=this,Jt(o),o=re(e,r),t&&(i=n.apply(a,u)),i}}function st(n){var r=se.call(arguments,1);return re(function(){n.apply(i,r)},1)}function ht(n,r){var t=se.call(arguments,2);return re(function(){n.apply(i,t)},r)}function vt(n,r){var t={};return function(){var e=p+(r?r.apply(this,arguments):arguments[0]);return Yt.call(t,e)?t[e]:t[e]=n.apply(this,arguments)}}function gt(n){var r,t;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}}function yt(n){return I(n,se.call(arguments,1))}function mt(n){return I(n,se.call(arguments,1),null,c)}function bt(n,r,t){function e(){f=new Bt,o=null,c&&(i=n.apply(a,u))}var u,i,a,o,f=0,l=!0,c=!0;return t===!1?l=!1:t&&R[typeof t]&&(l="leading"in t?t.leading:l,c="trailing"in t?t.trailing:c),function(){var t=new Bt;o||l||(f=t);var c=r-(t-f);return u=arguments,a=this,0>=c?(Jt(o),o=null,f=t,i=n.apply(a,u)):o||(o=re(e,c)),i}}function dt(n,r){return function(){var t=[n];return Zt.apply(t,arguments),r.apply(this,t)}}function _t(n){return null==n?"":Pt(n).replace(w,z)}function kt(n){return n}function wt(n){xr(W(n),function(t){var e=r[t]=n[t];r.prototype[t]=function(){var n=this.__wrapped__,t=[n];Zt.apply(t,arguments);var u=e.apply(r,t);return n&&"object"==typeof n&&n==u?this:new P(u)}})}function jt(){return n._=Vt,this}function Ct(n,r){return null==n&&null==r&&(r=1),n=+n||0,null==r&&(r=n,n=0),n+Wt(pe()*((+r||0)-n+1))}function xt(n,r){var t=n?n[r]:i;return ar(t)?n[r]():t}function Ot(n,t,e){var u=r.templateSettings;n||(n=""),e=we({},e,u);var a,o=we({},e.imports,u.imports),f=be(o),l=br(o),c=0,p=e.interpolate||k,s="__p += '",y=zt((e.escape||k).source+"|"+p.source+"|"+(p===d?m:k).source+"|"+(e.evaluate||k).source+"|$","g");n.replace(y,function(r,t,e,u,i,o){return e||(e=u),s+=n.slice(c,o).replace(j,M),t&&(s+="' +\n__e("+t+") +\n'"),i&&(a=!0,s+="';\n"+i+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),c=o+r.length,r}),s+="';\n";var b=e.variable,_=b;_||(b="obj",s="with ("+b+") {\n"+s+"\n}\n"),s=(a?s.replace(h,""):s).replace(v,"$1").replace(g,"$1;"),s="function("+b+") {\n"+(_?"":b+" || ("+b+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var w="\n/*\n//@ sourceURL="+(e.sourceURL||"/lodash/template/source["+x++ +"]")+"\n*/";try{var C=Rt(f,"return "+s+w).apply(i,l)}catch(O){throw O.source=s,O}return t?C(t):(C.source=s,C)}function At(n,t,e){n=(n=+n)>-1?n:0;var u=-1,i=Tt(n);for(t=r.createCallback(t,e,1);n>++u;)i[u]=t(u);return i}function Et(n){return null==n?"":Pt(n).replace(y,V)}function Nt(n){var r=++l;return Pt(null==n?"":n)+r}function It(n,r){return r(n),n}function St(){return Pt(this.__wrapped__)}function qt(){return this.__wrapped__}n=n?D.defaults(e.Object(),n,D.pick(e,C)):e;var Tt=n.Array,$t=n.Boolean,Bt=n.Date,Rt=n.Function,Ft=n.Math,Dt=n.Number,Mt=n.Object,zt=n.RegExp,Pt=n.String,Ut=n.TypeError,Kt=Tt(),Lt=Mt(),Vt=n._,Gt=zt("^"+Pt(Lt.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Ht=Ft.ceil,Jt=n.clearTimeout,Qt=Kt.concat,Wt=Ft.floor,Xt=Gt.test(Xt=Mt.getPrototypeOf)&&Xt,Yt=Lt.hasOwnProperty,Zt=Kt.push,ne=n.setImmediate,re=n.setTimeout,te=Lt.toString,ee=Gt.test(ee=te.bind)&&ee,ue=Gt.test(ue=Tt.isArray)&&ue,ie=n.isFinite,ae=n.isNaN,oe=Gt.test(oe=Mt.keys)&&oe,fe=Ft.max,le=Ft.min,ce=n.parseInt,pe=Ft.random,se=Kt.slice,he=Gt.test(n.attachEvent),ve=ee&&!/\n|true/.test(ee+he),ge={};ge[A]=Tt,ge[E]=$t,ge[N]=Bt,ge[q]=Mt,ge[S]=Dt,ge[T]=zt,ge[$]=Pt;var ye=r.support={};ye.fastBind=ee&&!ve,r.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:d,variable:"",imports:{_:r}},P.prototype=r.prototype;var me=function(n){var r,t=n,e=[];if(!t)return e;if(!R[typeof n])return e;for(r in t)Yt.call(t,r)&&e.push(r);return e},be=oe?function(n){return or(n)?oe(n):[]}:me,de={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_e=Y(de),ke=function(n,t,e){var u,i=n,a=i;if(!i)return a;var o=arguments,f=0,l="number"==typeof e?2:o.length;if(l>3&&"function"==typeof o[l-2])var c=r.createCallback(o[--l-1],o[l--],2);else l>2&&"function"==typeof o[l-1]&&(c=o[--l]);for(;l>++f;)if(i=o[f],i&&R[typeof i]){var p=i.length;if(u=-1,Z(i))for(;p>++u;)a[u]=c?c(a[u],i[u]):i[u];else for(var s=-1,h=R[typeof i]?be(i):[],p=h.length;p>++s;)u=h[s],a[u]=c?c(a[u],i[u]):i[u]}return a},we=function(n,r,t){var e,u=n,a=u;if(!u)return a;for(var o=arguments,f=0,l="number"==typeof t?2:o.length;l>++f;)if(u=o[f],u&&R[typeof u]){var c=u.length;if(e=-1,Z(u))for(;c>++e;)a[e]===i&&(a[e]=u[e]);else for(var p=-1,s=R[typeof u]?be(u):[],c=s.length;c>++p;)e=s[p],a[e]===i&&(a[e]=u[e])}return a},je=function(n,t,e){var u,a=n,o=a;if(!a)return o;if(!R[typeof a])return o;t=t&&e===i?t:r.createCallback(t,e);for(u in a)if(t(a[u],u,n)===!1)return o;return o},Ce=function(n,t,e){var u,a=n,o=a;if(!a)return o;if(!R[typeof a])return o;t=t&&e===i?t:r.createCallback(t,e);for(var f=-1,l=R[typeof a]?be(a):[],c=l.length;c>++f;)if(u=l[f],t(a[u],u,n)===!1)return o;return o},xe=function(n){if(!n||te.call(n)!=q)return!1;var r=n.valueOf,t="function"==typeof r&&(t=Xt(r))&&Xt(t);return t?n==t||Xt(n)==t:K(n)},Oe=jr;ve&&o&&"function"==typeof ne&&(st=at(ne,n));var Ae=8==ce("08")?ce:function(n,r){return ce(sr(n)?n.replace(_,""):n,r||0)};return r.after=it,r.assign=ke,r.at=dr,r.bind=at,r.bindAll=ot,r.bindKey=ft,r.compact=zr,r.compose=lt,r.countBy=kr,r.createCallback=ct,r.debounce=pt,r.defaults=we,r.defer=st,r.delay=ht,r.difference=Pr,r.filter=jr,r.flatten=Lr,r.forEach=xr,r.forIn=je,r.forOwn=Ce,r.functions=W,r.groupBy=Or,r.initial=Gr,r.intersection=Hr,r.invert=Y,r.invoke=Ar,r.keys=be,r.map=Er,r.max=Nr,r.memoize=vt,r.merge=vr,r.min=Ir,r.omit=gr,r.once=gt,r.pairs=yr,r.partial=yt,r.partialRight=mt,r.pick=mr,r.pluck=Sr,r.range=Wr,r.reject=$r,r.rest=Xr,r.shuffle=Br,r.sortBy=Dr,r.tap=It,r.throttle=bt,r.times=At,r.toArray=Mr,r.union=Zr,r.uniq=nt,r.unzip=rt,r.values=br,r.where=Oe,r.without=tt,r.wrap=dt,r.zip=et,r.zipObject=ut,r.collect=Er,r.drop=Xr,r.each=xr,r.extend=ke,r.methods=W,r.object=ut,r.select=jr,r.tail=Xr,r.unique=nt,wt(r),r.clone=H,r.cloneDeep=J,r.contains=_r,r.escape=_t,r.every=wr,r.find=Cr,r.findIndex=Ur,r.findKey=Q,r.has=X,r.identity=kt,r.indexOf=Vr,r.isArguments=G,r.isArray=Z,r.isBoolean=nr,r.isDate=rr,r.isElement=tr,r.isEmpty=er,r.isEqual=ur,r.isFinite=ir,r.isFunction=ar,r.isNaN=fr,r.isNull=lr,r.isNumber=cr,r.isObject=or,r.isPlainObject=xe,r.isRegExp=pr,r.isString=sr,r.isUndefined=hr,r.lastIndexOf=Qr,r.mixin=wt,r.noConflict=jt,r.parseInt=Ae,r.random=Ct,r.reduce=qr,r.reduceRight=Tr,r.result=xt,r.runInContext=u,r.size=Rr,r.some=Fr,r.sortedIndex=Yr,r.template=Ot,r.unescape=Et,r.uniqueId=Nt,r.all=wr,r.any=Fr,r.detect=Cr,r.foldl=qr,r.foldr=Tr,r.include=_r,r.inject=qr,Ce(r,function(n,t){r.prototype[t]||(r.prototype[t]=function(){var t=[this.__wrapped__];return Zt.apply(t,arguments),n.apply(r,t)})}),r.first=Kr,r.last=Jr,r.take=Kr,r.head=Kr,Ce(r,function(n,t){r.prototype[t]||(r.prototype[t]=function(r,t){var e=n(this.__wrapped__,r,t);return null==r||t&&"function"!=typeof r?e:new P(e)})}),r.VERSION="1.2.0",r.prototype.toString=St,r.prototype.value=qt,r.prototype.valueOf=qt,xr(["join","pop","shift"],function(n){var t=Kt[n];r.prototype[n]=function(){return t.apply(this.__wrapped__,arguments)}}),xr(["push","reverse","sort","unshift"],function(n){var t=Kt[n];r.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),xr(["concat","slice","splice"],function(n){var t=Kt[n];r.prototype[n]=function(){return new P(t.apply(this.__wrapped__,arguments))}}),r}var i,a="object"==typeof t&&t,o="object"==typeof r&&r&&r.exports==a&&r,f="object"==typeof n&&n;(f.global===f||f.window===f)&&(e=f);var l=0,c={},p=+new Date+"",s=200,h=/\b__p \+= '';/g,v=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/&(?:amp|lt|gt|quot|#39);/g,m=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,b=/\w*$/,d=/<%=([\s\S]+?)%>/g,_=/^0+(?=.$)/,k=/($^)/,w=/[&<>"']/g,j=/['\n\r\t\u2028\u2029\\]/g,C=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],x=0,O="[object Arguments]",A="[object Array]",E="[object Boolean]",N="[object Date]",I="[object Function]",S="[object Number]",q="[object Object]",T="[object RegExp]",$="[object String]",B={};B[I]=!1,B[O]=B[A]=B[E]=B[N]=B[S]=B[q]=B[T]=B[$]=!0;var R={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},F={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},D=u();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e._=D,define(function(){return D})):a&&!a.nodeType?o?(o.exports=D)._=D:a._=D:e._=D})(this)})(window)},{}],5:[function(n,r,t){var e=n("./utils"),u=n("lodash"),i=function(n,r){var t=r||{};this.nodeType=t.nodeType||"unknown",this.id=e.id(),this.parent=n||null,this._children=[]};i.prototype={ancestors:function(){for(var n=[],r=this.parent;null!==r;)n.push(r),r=r.parent;return n},root:function(){for(var n=[],r=this.parent;null!==r;){if(n.push(r),!r.parent)return r;r=r.parent}return r},children:function(){return this._children},leaf:function(){return this._children.length>0},siblings:function(){var n=this.siblingsAll(),r=this.id;return u.filter(n,function(n){return n.id!==r})},siblingsAll:function(){return this.parent?this.parent._children:[this]},prev:function(){var n,r,t=null,e=this.siblingsAll();if(1==e.length)return null;for(n in e){if(r=e[n],r.id===this.id)return t;t=r}return null},prevAll:function(){var n,r,t=[],e=this.siblingsAll();if(1==e.length)return null;for(n in e){if(r=e[n],r.id===this.id)return t;t.push(r)}return t},next:function(){var n,r,t=!1,e=this.siblingsAll();if(1==e.length)return null;for(n in e){if(t)return e[n];r=e[n],r.id===this.id&&(t=!0)}return null},nextAll:function(){var n,r,t=!1,e=[],u=this.siblingsAll();if(1==u.length)return null;for(n in u)t?e.push(u[n]):(r=u[n],r.id===this.id&&(t=!0));return e},append:function(n){this._children.push(n),n.parent=this},prepend:function(n){this._children.unshift(n),n.parent=this},replace:function(n,r){var t=this._children.indexOf(n),e=this._children,u=[];u=u.concat(e.slice(0,t),r,e.slice(t+1)),this._children=u}},r.exports=t=i},{"./utils":2,lodash:6}]},{},[1]);